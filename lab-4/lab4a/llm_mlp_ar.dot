digraph {
	graph [bb="0,0,1043,972"];
	node [label="\N"];
	x	[fillcolor=lightblue,
		height=0.5,
		label="x: PLACE_HOLDER",
		pos="244,954",
		shape=rect,
		style=filled,
		width=1.9861];
	gate_proj	[fillcolor=yellow,
		height=0.5,
		label="gate_proj: MATMUL",
		pos="619,882",
		shape=rect,
		style=filled,
		width=2.0556];
	x -> gate_proj	[pos="e,544.82,896.85 315.86,939.59 378.37,927.92 469,911 534.88,898.7",
		style=solid];
	up_proj	[fillcolor=yellow,
		height=0.5,
		label="up_proj: MATMUL",
		pos="374,810",
		shape=rect,
		style=filled,
		width=1.875];
	x -> up_proj	[pos="e,374.39,828.28 303.21,935.94 321.93,927.84 341.08,916.27 354,900 367.82,882.61 372.5,857.56 373.91,838.46",
		style=solid];
	gate_proj_recomp	[fillcolor=orange,
		height=0.5,
		label="gate_proj_recomp: MATMUL",
		pos="783,594",
		shape=rect,
		style=filled,
		width=2.8611];
	x -> gate_proj_recomp	[pos="e,787.65,612.34 315.82,949.75 426.83,943.89 634.34,929.33 702,900 757.82,875.81 806,871.84 806,811 806,811 806,811 806,737 806,696.7 \
796.86,650.78 790.1,622.34",
		style=solid];
	up_proj_recomp	[fillcolor=orange,
		height=0.5,
		label="up_proj_recomp: MATMUL",
		pos="201,522",
		shape=rect,
		style=filled,
		width=2.6944];
	x -> up_proj_recomp	[pos="e,181.69,540.18 183.58,935.88 164.87,927.81 145.83,916.26 133,900 107.95,868.24 114,851.45 114,811 114,811 114,811 114,665 114,618.16 \
148.84,573.74 174.43,547.43",
		style=solid];
	d_up_proj_w	[fillcolor=lightcoral,
		height=0.5,
		label="d_up_proj_w: MATMUL",
		pos="176,162",
		shape=rect,
		style=filled,
		width=2.3333];
	x -> d_up_proj_w	[pos="e,138.34,180.21 174.26,935.94 114.5,916.67 38,878.76 38,811 38,811 38,811 38,449 38,342.28 34.445,303.17 96,216 104.67,203.73 117.16,\
193.52 129.7,185.45",
		style=solid];
	d_gate_proj_w	[fillcolor=lightcoral,
		height=0.5,
		label="d_gate_proj_w: MATMUL",
		pos="425,90",
		shape=rect,
		style=filled,
		width=2.5139];
	x -> d_gate_proj_w	[pos="e,334.47,95.828 172.46,945.34 134.84,938.4 89.678,925.18 56,900 18.57,872.02 0,857.73 0,811 0,811 0,811 0,305 0,224.5 17.68,191.06 \
83,144 120.69,116.85 237.62,103.16 324.32,96.577",
		style=solid];
	gate_proj_w	[fillcolor=lightgreen,
		height=0.5,
		label="gate_proj_w: PLACE_HOLDER",
		pos="935,954",
		shape=rect,
		style=filled,
		width=3];
	gate_proj_w -> gate_proj	[pos="e,693.24,899.45 858.1,935.97 811.19,925.57 751.18,912.28 703.02,901.61",
		style=solid];
	gate_proj_w -> gate_proj_recomp	[pos="e,796.83,612.44 930.18,935.84 916.5,888.4 874.88,752.13 820,648 815.11,638.72 808.85,629.14 802.88,620.73",
		style=solid];
	d_x2	[fillcolor=lightpink,
		height=0.5,
		label="d_x2: MATMUL",
		pos="592,90",
		shape=rect,
		style=filled,
		width=1.625];
	gate_proj_w -> d_x2	[pos="e,650.7,102.42 951.49,935.77 973.84,910.53 1011,861.05 1011,811 1011,811 1011,811 1011,377 1011,209.31 779.23,132.85 660.44,104.68",
		style=solid];
	gate_proj_w_new	[fillcolor=lightgreen,
		height=0.5,
		label="gate_proj_w_new: ADD",
		pos="877,18",
		shape=rect,
		style=filled,
		width=2.4028];
	gate_proj_w -> gate_proj_w_new	[pos="e,898.78,36.174 938.92,935.7 948.63,891.31 973,769.68 973,667 973,667 973,667 973,161 973,112.85 934.66,68.848 906.44,42.978",
		style=solid];
	gate_proj_act	[fillcolor=yellow,
		height=0.5,
		label="gate_proj_act: RELU_FORWRAD_BACKWARD",
		pos="619,810",
		shape=rect,
		style=filled,
		width=4.4167];
	gate_proj -> gate_proj_act	[pos="e,619,828.1 619,863.7 619,855.98 619,846.71 619,838.11",
		style=solid];
	gate_up_proj	[fillcolor=yellow,
		height=0.5,
		label="gate_up_proj: MATMUL",
		pos="634,738",
		shape=rect,
		style=filled,
		width=2.4028];
	gate_proj_act -> gate_up_proj	[pos="e,630.33,756.1 622.71,791.7 624.36,783.98 626.35,774.71 628.19,766.11",
		style=solid];
	up_proj_w	[fillcolor=lightgreen,
		height=0.5,
		label="up_proj_w: PLACE_HOLDER",
		pos="244,882",
		shape=rect,
		style=filled,
		width=2.8194];
	up_proj_w -> up_proj	[pos="e,342.08,828.19 275.8,863.88 293.11,854.55 314.72,842.92 333.26,832.94",
		style=solid];
	up_proj_w -> up_proj_recomp	[pos="e,204.84,540.39 239.14,863.67 232.13,837.08 220,784.5 220,739 220,739 220,739 220,665 220,624.86 212.45,578.9 206.87,550.4",
		style=solid];
	d_x1	[fillcolor=lightpink,
		height=0.5,
		label="d_x1: MATMUL",
		pos="673,162",
		shape=rect,
		style=filled,
		width=1.625];
	up_proj_w -> d_x1	[pos="e,614.09,175.87 247.15,863.93 266.31,760.09 366.48,217.48 368,216 404.26,180.66 543.22,189.27 593,180 596.63,179.32 600.36,178.61 \
604.11,177.87",
		style=solid];
	up_proj_w_new	[fillcolor=lightgreen,
		height=0.5,
		label="up_proj_w_new: ADD",
		pos="101,90",
		shape=rect,
		style=filled,
		width=2.2222];
	up_proj_w -> up_proj_w_new	[pos="e,93.626,108.31 224.73,863.72 180.6,822.14 76,711.32 76,595 76,595 76,595 76,449 76,313.41 59.369,277.52 83,144 84.541,135.29 87.261,\
126.08 90.127,117.82",
		style=solid];
	up_proj -> gate_up_proj	[pos="e,570.45,756.11 437.27,791.97 474.55,781.93 521.86,769.19 560.75,758.72",
		style=solid];
	down_proj	[fillcolor=yellow,
		height=0.5,
		label="down_proj: MATMUL",
		pos="539,666",
		shape=rect,
		style=filled,
		width=2.1528];
	gate_up_proj -> down_proj	[pos="e,562.21,684.1 610.52,719.7 598.44,710.8 583.55,699.82 570.48,690.2",
		style=solid];
	down_proj_w	[fillcolor=lightgreen,
		height=0.5,
		label="down_proj_w: PLACE_HOLDER",
		pos="418,738",
		shape=rect,
		style=filled,
		width=3.0972];
	down_proj_w -> down_proj	[pos="e,509.29,684.19 447.6,719.88 463.57,710.64 483.46,699.13 500.61,689.21",
		style=solid];
	d_gate_up_proj	[fillcolor=lightpink,
		height=0.5,
		label="d_gate_up_proj: MATMUL",
		pos="485,306",
		shape=rect,
		style=filled,
		width=2.6111];
	down_proj_w -> d_gate_up_proj	[pos="e,454.94,324.04 413.12,719.98 398.2,664.48 357.9,485.05 421,360 426.9,348.31 436.66,338.25 446.8,330.13",
		style=solid];
	down_proj_w_new	[fillcolor=lightgreen,
		height=0.5,
		label="down_proj_w_new: ADD",
		pos="467,234",
		shape=rect,
		style=filled,
		width=2.4861];
	down_proj_w -> down_proj_w_new	[pos="e,421.97,252.14 416.66,719.6 414.36,690.07 409.49,628.25 405,576 394,448.06 319.69,400.28 382,288 389.13,275.15 400.81,265.01 413.27,\
257.19",
		style=solid];
	down_proj -> gate_proj_recomp	[pos="e,723.36,612.11 598.38,647.97 633.06,638.01 677.01,625.41 713.33,614.99",
		style=dashed];
	gate_proj_act_recomp	[fillcolor=orange,
		height=0.5,
		label="gate_proj_act_recomp: RELU_FORWRAD_BACKWARD",
		pos="756,522",
		shape=rect,
		style=filled,
		width=5.2361];
	down_proj -> gate_proj_act_recomp	[pos="e,727.89,540.18 564.13,647.67 590.55,629.53 633.43,600.36 671,576 686.73,565.8 704.29,554.78 719.35,545.46",
		style=dashed];
	down_proj -> up_proj_recomp	[pos="e,241.65,540.08 498.23,647.87 436.23,621.82 318.36,572.3 251.18,544.08",
		style=dashed];
	gate_up_proj_recomp	[fillcolor=orange,
		height=0.5,
		label="gate_up_proj_recomp: MATMUL",
		pos="650,450",
		shape=rect,
		style=filled,
		width=3.2083];
	down_proj -> gate_up_proj_recomp	[pos="e,601.89,468.18 536.33,647.81 532.4,616.41 528.41,548.88 558,504 566.57,491 579.51,480.8 592.99,472.98",
		style=dashed];
	d_down_proj	[fillcolor=lightpink,
		height=0.5,
		label="d_down_proj: PLACE_HOLDER",
		pos="541,378",
		shape=rect,
		style=filled,
		width=3.0694];
	down_proj -> d_down_proj	[pos="e,534.35,396.37 535.58,647.94 528.37,609.29 513.16,512.18 525,432 526.28,423.35 528.67,414.15 531.22,405.89",
		style=dashed];
	gate_proj_recomp -> gate_proj_act_recomp	[pos="e,762.6,540.1 776.33,575.7 773.29,567.81 769.62,558.3 766.24,549.55",
		style=solid];
	gate_proj_act_recomp -> gate_up_proj_recomp	[pos="e,676.03,468.19 730.07,503.88 716.34,494.81 699.29,483.55 684.46,473.76",
		style=solid];
	d_up_proj	[fillcolor=lightpink,
		height=0.5,
		label="d_up_proj: MATMUL",
		pos="673,234",
		shape=rect,
		style=filled,
		width=2.0972];
	gate_proj_act_recomp -> d_up_proj	[pos="e,738.96,252.1 761.69,503.83 780.2,462.83 830.41,357.47 785,288 776.01,274.25 762.58,264.04 748.09,256.48",
		style=solid];
	gate_proj_act_recomp -> d_up_proj	[pos="e,748.82,249.15 770.78,503.83 798.2,462.83 848.41,357.47 803,288 792.53,271.98 776.02,260.77 758.22,252.94",
		style=dashed];
	up_proj_recomp -> gate_up_proj_recomp	[pos="e,540.82,468.02 298.15,505.85 366.37,495.22 458.03,480.93 530.69,469.6",
		style=solid];
	d_gate_proj_act	[fillcolor=lightpink,
		height=0.5,
		label="d_gate_proj_act: MATMUL",
		pos="201,234",
		shape=rect,
		style=filled,
		width=2.6528];
	up_proj_recomp -> d_gate_proj_act	[pos="e,197.56,252.31 197.59,503.97 193.41,456.29 193.15,321.18 196.81,262.63",
		style=solid];
	up_proj_recomp -> d_gate_proj_act	[pos="e,204.44,252.31 204.41,503.97 208.59,456.29 208.85,321.18 205.19,262.63",
		style=dashed];
	gate_up_proj_recomp -> d_down_proj	[pos="e,567.77,396.19 623.34,431.88 609.22,422.81 591.69,411.55 576.44,401.76",
		style=dashed];
	d_down_proj_w	[fillcolor=lightcoral,
		height=0.5,
		label="d_down_proj_w: MATMUL",
		pos="691,306",
		shape=rect,
		style=filled,
		width=2.6111];
	gate_up_proj_recomp -> d_down_proj_w	[pos="e,681.45,324.19 650.36,431.87 654.83,407.46 667.56,362.43 677.9,333.64",
		style=solid];
	gate_up_proj_recomp -> d_down_proj_w	[pos="e,690.63,324.19 659.53,431.87 669.12,407.56 682.32,362.82 688.63,334.01",
		style=dashed];
	d_down_proj -> d_gate_up_proj	[pos="e,498.68,324.1 527.16,359.7 520.51,351.39 512.42,341.28 505.11,332.14",
		style=solid];
	d_down_proj -> d_down_proj_w	[pos="e,654.43,324.07 577.69,359.88 598.02,350.39 623.47,338.51 645.1,328.42",
		style=solid];
	d_gate_up_proj -> d_gate_proj_act	[pos="e,270.42,252.11 415.89,287.97 374.91,277.87 322.83,265.03 280.2,254.52",
		style=solid];
	d_gate_up_proj -> d_up_proj	[pos="e,627.16,252.07 530.99,287.88 557.15,278.14 590.09,265.87 617.65,255.61",
		style=solid];
	d_down_proj_w -> down_proj_w_new	[pos="e,521.75,252.11 636.49,287.97 604.78,278.06 564.64,265.51 531.39,255.12",
		style=solid];
	d_gate_proj	[fillcolor=lightpink,
		height=0.5,
		label="d_gate_proj: RELU_FORWRAD_BACKWARD",
		pos="431,162",
		shape=rect,
		style=filled,
		width=4.25];
	d_gate_proj_act -> d_gate_proj	[pos="e,374.78,180.11 256.97,215.97 289.53,206.06 330.74,193.51 364.89,183.12",
		style=solid];
	d_up_proj -> d_x1	[pos="e,673,180.1 673,215.7 673,207.98 673,198.71 673,190.11",
		style=solid];
	d_up_proj -> d_up_proj_w	[pos="e,260.11,178.61 597.23,220.73 586.42,219.08 575.43,217.46 565,216 436.95,198.14 401.72,199.83 270.17,180.13",
		style=solid];
	d_x	[fillcolor=lightpink,
		height=0.5,
		label="d_x: ADD",
		pos="635,18",
		shape=rect,
		style=filled,
		width=1.1111];
	d_x1 -> d_x	[pos="e,644.22,36.21 671.69,143.97 669.98,125.83 666.31,96.426 659,72 656.34,63.097 652.49,53.748 648.65,45.423",
		style=solid];
	d_up_proj_w -> up_proj_w_new	[pos="e,119.33,108.1 157.46,143.7 148.2,135.05 136.84,124.45 126.74,115.03",
		style=solid];
	d_gate_proj -> d_x2	[pos="e,552.74,108.07 470.39,143.88 492.39,134.31 520.01,122.3 543.36,112.15",
		style=solid];
	d_gate_proj -> d_gate_proj_w	[pos="e,426.47,108.1 429.52,143.7 428.86,135.98 428.06,126.71 427.32,118.11",
		style=solid];
	d_x2 -> d_x	[pos="e,624.49,36.104 602.63,71.697 607.63,63.559 613.69,53.689 619.21,44.701",
		style=solid];
	d_gate_proj_w -> gate_proj_w_new	[pos="e,790.24,31.507 515.62,73.36 518.45,72.898 521.25,72.443 524,72 610.45,58.089 709.01,43.387 779.98,33.006",
		style=solid];
}
